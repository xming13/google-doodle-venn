var XMing = XMing || {};

XMing.AnimationManager = new function() {
	this.animations 		= [];
	this.endAnimations		= [];
	this.colorAnimations 	= [];
	
	this.init = function() {
		this.reset();
		this.loadAnimation();
		this.loadEndAnimation();
		this.loadColorAnimation();
	},
	this.reset = function() {
		this.animations 		= [];
		this.endAnimations 		= [];
		this.colorAnimations 	= [];
	},
	this.getAnimation = function(index) {
		return this.animations[index];
	},
	this.getEndAnimation = function(index) {
		return this.endAnimations[index];
	},
	this.getColorAnimation = function(index) {
		return this.colorAnimations[index];
	},
	this.loadAnimation = function() {
		var imagePath = 'images/sprite-middlemammals1.png';
		var coordsArray = [
			//[0, 1162, 300, 1],
			[765, 664, 106, 163],
			[874, 1162, 106, 163],
			[329, 996, 106, 163],
			[874, 0, 106, 163],
			[874, 166, 106, 163],
			[329, 166, 106, 163],
			[329, 830, 106, 163],
			[656, 332, 106, 163],
			[983, 664, 106, 163],
			[329, 0, 106, 163],
			[438, 166, 106, 163],
			[0, 664, 106, 163],
			[656, 166, 106, 163],
			[547, 166, 106, 163],
			[765, 166, 106, 163],
			[438, 1162, 106, 163],
			[983, 332, 106, 163],
			[0, 498, 106, 163],
			[110, 0, 106, 163],
			[109, 830, 106, 163],
			[874, 996, 106, 163],
			[765, 830, 106, 163],
			[983, 1162, 106, 163],
			[109, 664, 106, 163],
			[329, 498, 106, 163],
			[547, 830, 106, 163],
			[1093, 166, 106, 163],
			[1093, 0, 106, 163],
			[874, 332, 106, 163],
			[765, 996, 106, 163],
			[218, 996, 106, 163],
			[438, 996, 106, 163],
			[438, 332, 106, 163],
			[329, 332, 106, 163],
			[1093, 664, 106, 163],
			[1093, 830,106, 163],
			[1093, 332, 106, 163],
			[0, 996, 106, 163],
			[874, 664, 106, 163],
			[438, 664, 106, 163],
			[765, 1162, 106, 163],
			[219, 0, 106, 163],
			[765, 0, 106, 163],
			[438, 498, 106, 163],
			[765, 332, 106, 163],
			[0, 332, 106, 163],
			[0, 830, 106, 163],
			[329, 664, 106, 163],
			[1093, 498, 106, 163],
			[0, 0, 106, 163],
			[983, 166, 106, 163],
			[983, 498, 107, 163],
			[983, 996, 107, 163],
			[547, 996, 107, 163],
			[547, 1162, 107, 163],
			[983, 830, 107, 163],
			[109, 498, 107, 163],
			[765, 498, 107, 163],
			[983, 0, 107, 163],
			[218, 830, 107, 163],
			[547, 664, 107, 163],
			[218, 664, 107, 163],
			[438, 0, 107, 163],
			[219, 498, 107, 163],
			[109,332, 107, 163],
			[0, 166, 107, 163]
		];
		
		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 10), true, 0));
		this.animations.push(new Animation(imagePath, coordsArray.slice(10, 51), false, 2));
		this.animations.push(new Animation(imagePath, coordsArray.slice(51), true, 0));
	
		imagePath = 'images/sprite-middlemammals2.png';
		coordsArray = [
			//[436, 332, 300, 1],
			[1502, 166, 106, 163],
			[1611, 166, 106, 163],
			[1829, 332, 106, 163],
			[1284, 498, 106, 163],
			[1175, 498, 106, 163],
			[0, 0, 106, 163],
			[1175, 0, 106, 163],
			[1829, 498, 106, 163],
			[545, 0, 106, 163],
			[739, 332, 106, 163],
			[436, 502, 106, 163],
			[848, 498, 106, 163],
			[1720, 332, 106, 163],
			[218, 0, 106, 163],
			[109, 332, 106, 163],
			[0, 332, 106, 163],
			[1284, 166, 106, 163],
			[1284, 332, 106, 163],
			[327, 664, 106, 163],
			[1066, 498, 106, 163],
			[1066, 0, 106, 163],
			[1175, 332, 106, 163],
			[848, 166, 106, 163],
			[1502, 0, 106, 163],
			[1611, 0, 106, 163],
			[109, 498, 106, 163],
			[109, 166, 106, 163],
			[545, 502, 106, 163],
			[1175, 166, 106, 163],
			[109, 0, 106, 163],
			[1393, 498, 106, 163],
			[1611, 498, 106, 163],
			[1720, 0, 106, 163],
			[1175, 664, 106, 163],
			[545, 336, 106, 163],
			[1393, 0, 106, 163],
			[1829, 664, 106, 163],
			[1066, 166, 106, 163],
			[1393, 664, 106, 163],
			[436, 166, 106, 163],
			[0, 498, 106, 163],
			[739, 166, 106, 163],
			[1066, 332, 106, 163],
			[1284, 0, 106, 163],
			[1829, 166, 106, 163],
			[327, 166, 106, 163],
			[1066, 664, 106, 163],
			[957, 0, 106, 163],
			[1611, 664, 106, 163],
			[848, 0, 106, 163],
			[0, 664, 106, 163],
			[848, 332, 106, 163],
			[957, 166, 106, 163],
			[436, 336, 106, 163],
			[545, 166, 106, 163],
			[327, 0, 106, 163],
			[1393, 332, 106, 163],
			[1829, 0, 106, 163],
			[327, 498, 106, 163],
			[1720, 498, 106, 163],
			[1502, 332, 106, 163],
			[1611, 332, 106, 163],
			[436, 0, 106, 163],
			[1393, 166, 106, 163],
			[739, 0, 106, 163],
			[0, 166, 106, 163],
			[218, 332, 106, 163],
			[327, 332, 106, 163],
			[218, 166, 106, 163]
		];
			
        this.animations.push(new Animation(imagePath, coordsArray.slice(0, 21), false, 1));
		this.animations.push(new Animation(imagePath, coordsArray.slice(21), true, 0));
		
		imagePath = 'images/sprite-middlemusical1.png';
		coordsArray = [
			//[327, 4482, 300, 1],
			[436, 498, 106, 163],
			[436, 830, 106, 163],
			[109, 1328, 106, 163],
			[218, 2490, 106, 163],
			[327, 2158, 106, 163],
			[0, 332, 106, 163],
			[109, 3652, 106, 163],
			[545, 1162, 106, 163],
			[109, 2490, 106, 163],
			[0, 1992, 106, 163],
			[545, 498, 106, 163],
			[0, 3320, 106, 163],
			[218, 3320, 106, 163],
			[0, 3984, 106, 163],
			[0, 4316, 106, 163],
			[109, 2822, 106, 163],
			[545, 332, 106, 163],
			[0, 3486, 106, 163],
			[0, 830, 106, 163],
			[327, 3652, 106, 163],
			[218, 664, 106, 163],
			[218, 498, 106, 163],
			[327, 4150, 106, 163],
			[218, 3652, 106, 163],
			[436, 166, 106, 163],
			[545, 664, 106, 163],
			[0, 2822, 106, 163],
			[218, 4482, 106, 163],
			[109, 4648, 106, 163],
			[109, 3818, 106, 163],
			[436, 4648, 106, 163],
			[0, 2988, 106, 163],
			[545, 3154, 106, 163],
			[545, 1494, 106, 163],
			[218, 1826, 106, 163],
			[0, 996, 106, 163],
			[327, 3154, 106, 163],
			[109, 498, 106, 163],
			[218, 1992, 106, 163],
			[218, 1660, 106, 163],
			[436, 3818, 106, 163],
			[436, 1826, 106, 163],
			[545, 2822, 106, 163],
			[109, 3320, 106, 163],
			[0, 1660, 106, 163],
			[545, 1660, 106, 163],
			[545, 1826, 106, 163],
			[218, 3486, 106, 163],
			[327, 2324, 106, 163],
			[545, 4648, 106, 163],
			[0, 3818, 106, 163],
			[0, 166, 106, 163],
			[327, 4316, 106, 163],
			[327, 1660, 106, 163],
			[109, 996, 106, 163],
			[218, 2822, 106, 163],
			[218, 2324, 106, 163],
			[327, 1992, 106, 163],
			[109, 4150, 106, 163],
			[218, 4150, 106, 163],
			[0, 1328, 106, 163],
			[0, 2324, 106, 163],
			[436, 2324, 106, 163],
			[109, 4316, 106, 163],
			[0, 3652, 106, 163],
			[545, 166, 106, 163],
			[436, 2822, 106, 163],
			[545, 2490, 106, 163],
			[218, 166, 106, 163],
			[436, 1328, 106, 163],
			[109, 2158, 106, 163],
			[0, 2490, 106, 163],
			[545, 1992, 106, 163],
			[436, 2158, 106, 163],
			[545, 1328, 106, 163],
			[436, 4316, 106, 163],
			[0, 4648, 106, 163],
			[0, 1494, 106, 163],
			[545, 996, 106, 163],
			[436, 996, 106, 163],
			[327, 1328, 106, 163],
			[0, 2656, 106, 163],
			[109, 664, 106, 163],
			[436, 4150, 106, 163],
			[218, 3818, 106, 163],
			[327, 1162, 106, 163],
			[327, 830, 106, 163],
			[327, 2822, 106, 163],
			[436, 1494, 106, 163],
			[545, 3320, 106, 163],
			[327, 1826, 106, 163],
			[218, 3154, 106, 163],
			[436, 332, 106, 163],
			[218, 332, 106, 163],
			[218, 830, 106, 163],
			[218, 2988, 106, 163],
			[109, 2656, 106, 163],
			[436, 1162, 106, 163],
			[109, 0, 106, 163],
			[327, 664, 106, 163],
			[545, 4150, 106, 163],
			[0, 0, 106, 163],
			[109, 332, 106, 163],
			[327, 2656, 106, 163],
			[327, 4648, 106, 163],
			[327, 3320, 106, 163],
			[218, 2656, 106, 163],
			[218, 1494, 106, 163],
			[327, 498, 106, 163],
			[218, 1162, 106, 163],
			[218, 0, 106, 163],
			[545, 830, 106, 163],
			[436, 2490, 106, 163],
			[218, 4316, 106, 163],
			[0, 4482, 106, 163],
			[0, 1162, 106, 163],
			[109, 2988, 106, 163],
			[327, 3984, 106, 163],
			[0, 664, 106, 163],
			[218, 1328, 106, 163],
			[218, 3984, 106, 163],
			[545, 4316, 106, 163],
			[109, 1992, 106, 163],
			[109, 1660, 106, 163],
			[218, 4648, 106, 163],
			[0, 1826, 106, 163],
			[109, 3984, 106, 163],
			[327, 3486, 106, 163],
			[327, 2988, 106, 163],
			[436, 3154, 106, 163],
			[545, 3652, 106, 163],
			[436, 1992, 106, 163],
			[0, 2158, 106, 163],
			[0, 3154, 106, 163],
			[327, 996, 106, 163],
			[436, 3652, 106, 163],
			[327, 166, 106, 163],
			[545, 3486, 106, 163],
			[327, 1494, 106, 163],
			[327, 3818, 106, 163],
			[218, 996, 106, 163],
			[0, 4150, 106, 163],
			[545, 2324, 106, 163],
			[218, 2158, 106, 163]
		];
		
		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 96), true, 0));
		this.animations.push(new Animation(imagePath, coordsArray.slice(96), true, 0));
		
		imagePath = 'images/sprite-middlemusical2.png';
		coordsArray = [
			//[0, 3320, 300, 1],
			[220, 4486, 107, 163],
			[0, 4818, 107, 163],
			[0, 6810, 107, 163],
			[110, 6478, 107, 163],
			[110, 664, 107, 163],
			[0, 1992, 107, 163],
			[110, 7142, 107, 163],
			[110, 1494, 107, 163],
			[220, 7142, 107, 163],
			[220, 0, 107, 163],
			[220, 6644, 107, 163],
			[220, 3822, 107, 163],
			[220, 498, 107, 163],
			[110, 6976, 107, 163],
			[110, 4320, 107, 163],
			[0, 4486, 107, 163],
			[0, 0, 107, 163],
			[110, 1992, 107, 163],
			[110, 2988, 107, 163],
			[110, 3988, 107, 163],
			[0, 3822, 107, 163],
			[110, 2490, 107, 163],
			[0, 498, 107, 163],
			[0, 2656, 107, 163],
			[0, 2988, 107, 163],
			[0, 3490, 107, 163],
			[110, 1162, 107, 163],
			[220, 1826, 107, 163],
			[110, 3656, 107, 163],
			[0, 4984, 107, 163],
			[110, 2158, 107, 163],
			[0, 5150, 107, 163],
			[110, 1660, 107, 163],
			[220, 3656, 107, 163],
			[110, 7308, 107, 163],
			[110, 2656, 107, 163],
			[220, 5814, 107, 163],
			[110, 3822, 107, 163],
			[110, 5316, 107, 163],
			[0, 1826, 107, 163],
			[110, 4486, 107, 163],
			[0, 2490, 107, 163],
			[0, 4652, 107, 163],
			[0, 664, 107, 163],
			[220, 2158, 107, 163],
			[220, 3154, 107, 163],
			[110, 6810, 107, 163],
			[0, 332, 107, 163],
			[0, 1494, 107, 163],
			[0, 3154, 107, 163],
			[220, 4320, 107, 163],
			[220, 1992, 107, 163],
			[0, 6312, 107, 163],
			[0, 6976, 107, 163],
			[220, 1328, 107, 163],
			[110, 166, 107, 163],
			[0, 3988, 107, 163],
			[0, 5980, 107, 163],
			[110, 5482, 107, 163],
			[220, 2988, 107, 163],
			[0, 2324, 107, 163],
			[220, 6810, 107, 163],
			[110, 4984, 107, 163],
			[220, 5648, 107, 163],
			[0, 6478, 107, 163],
			[220, 166, 107, 163],
			[110, 5814, 107, 163],
			[0, 4154, 107, 163],
			[220, 6976, 107, 163],
			[220, 4154, 107, 163],
			[110, 1328, 107, 163],
			[0, 166, 107, 163],
			[0, 5814, 107, 163],
			[110, 3154, 107, 163],
			[220, 7308, 107, 163],
			[0, 5482, 107, 163],
			[110, 6312, 107, 163],
			[0, 3656, 107, 163],
			[0, 6644, 107, 163],
			[220, 5150, 107, 163],
			[0, 1660, 107, 163],
			[110, 5648, 107, 163],
			[0, 5316, 107, 163],
			[110, 332, 107, 163],
			[110, 5980, 107, 163],
			[220, 3988, 107, 163],
			[220, 6312, 107, 163],
			[110, 498, 107, 163],
			[0, 5648, 107, 163],
			[220, 2324, 107, 163],
			[220, 664, 107, 163],
			[110, 6146, 107, 163],
			[0, 7308, 107, 163],
			[110, 5150, 107, 163],
			[220, 5980, 107, 163],
			[110, 3324, 107, 163],
			[110, 830, 107, 163],
			[110, 0, 107, 163],
			[220, 2822, 107, 163],
			[110, 2822, 107, 163],
			[0, 3324, 107, 163],
			[0, 1162, 107, 163],
			[0, 2158, 107, 163],
			[110, 4818, 107, 163],
			[220, 4818, 107, 163],
			[110, 4652, 107, 163],
			[110, 1826, 107, 163],
			[220, 1494, 107, 163],
			[220, 4652, 107, 163],
			[110, 6644, 107, 163],
			[0, 1328, 107, 163],
			[0, 830, 107, 163],
			[0, 7142, 107, 163],
			[110, 4154, 107, 163],
			[220, 4984, 107, 163],
			[0, 6146, 107, 163],
			[0, 996, 107, 163],
			[0, 2822, 107, 163]
		];
			
		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 72), false, 2));
		this.animations.push(new Animation(imagePath, coordsArray.slice(72, 100), true, 0));
		this.animations.push(new Animation(imagePath, coordsArray.slice(100), false, 2));
		
		imagePath = 'images/sprite-middlesealife1.png';
		coordsArray = [
			//[0, 664, 300, 1],
            [109, 1664, 106, 163],
            [0, 3988, 106, 163],
            [218, 6312, 106, 163],
            [0, 4984, 106, 163],
            [0, 1664, 106, 163],
            [0, 166, 106, 163],
            [0, 1332, 106, 163],
            [218, 332, 106, 163],
            [109, 8138, 106, 163],
            [0, 3490, 106, 163],
            [0, 1E3, 106, 163],
            [218, 7308, 106, 163],
            [0, 2162, 106, 163],
            [0, 1498, 106, 163],
            [218, 1996, 106, 163],
            [109, 6478, 106, 163],
            [109, 2660, 106, 163],
            [0, 834, 106, 163],
            [0, 5482, 106, 163],
            [218, 6976, 106, 163],
            [218, 4486, 106, 163],
            [218, 7142, 106, 163],
            [218, 2660, 106, 163],
            [109, 2992, 106, 163],
            [0, 2494, 106, 163],
            [0, 2826, 106, 163],
            [109, 2826, 106, 163],
            [218, 6810, 106, 163],
            [0, 1166, 106, 163],
            [218, 834, 106, 163],
            [218, 7474, 106, 163],
            [0, 498, 106, 163],
            [218, 3158, 106, 163],
            [218, 5482, 106, 163],
            [0, 7972, 106, 163],
            [109, 3988, 106, 163],
            [109, 1166, 106, 163],
            [218, 5316, 106, 163],
            [109, 4818, 106, 163],
            [0, 668, 106, 163],
            [218, 2162, 106, 163],
            [0, 4154, 106, 163],
            [218, 2328, 106, 163],
            [0, 7474, 106, 163],
            [109, 3324, 106, 163],
            [0, 2660, 106, 163],
            [0, 7640, 106, 163],
            [0, 7806, 106, 163],
            [0, 2992, 106, 163],
            [109, 3158, 106, 163],
            [109, 1498, 106, 163],
            [109, 6146, 106, 163],
            [218, 6478, 106, 163],
            [109, 5482, 106, 163],
            [0, 8138, 106, 163],
            [109, 498, 106, 163],
            [109, 7474, 106, 163],
            [218, 2826, 106, 163],
            [218, 8138, 106, 163],
            [0, 7308, 106, 163],
            [109, 4984, 106, 163],
            [218, 6146, 106, 163],
            [109, 0, 106, 163],
            [0, 6976, 106, 163],
            [109, 4486, 106, 163],
            [0, 4652, 106, 163],
            [0, 3656, 106, 163],
            [0, 6644, 106, 163],
            [0, 7142, 106, 163],
            [0, 4486, 106, 163],
            [0, 6810, 106, 163],
            [109, 3656, 106, 163],
            [109, 2494, 106, 163],
            [0, 332, 106, 163],
            [218, 1664, 106, 163],
            [0, 5316, 106, 163],
            [218, 668, 106, 163],
            [0, 5980, 106, 163],
            [0, 0, 106, 163],
            [0, 5150, 106, 163],
            [109, 668, 106, 163],
            [0, 6146, 106, 163],
            [218, 3822, 106, 163],
            [218, 2494, 106, 163],
            [0, 3822, 106, 163],
            [218, 1830, 106, 163],
            [218, 3656, 106, 163],
            [109, 2162, 106, 163],
            [109, 6810, 106, 163],
            [109, 5814, 106, 163],
            [218, 3988, 106, 163],
            [109, 5150, 106, 163],
            [218, 5814, 106, 163],
            [109, 1830, 106, 163],
            [0, 4320, 106, 163],
            [0, 1996, 106, 163],
            [218, 5150, 106, 163],
            [109, 6312, 106, 163],
            [109, 332, 106, 163],
            [109, 7142, 106, 163],
            [218, 1498, 106, 163],
            [218, 5980, 106, 163],
            [0, 1830, 106, 163],
            [218, 1166, 106, 163],
            [0, 3324, 106, 163],
            [218, 4652, 106, 163],
            [109, 2328, 106, 163],
            [109, 4320, 106, 163],
            [0, 5648, 106, 163],
            [109, 7308, 106, 163],
            [109, 5980, 106, 163],
            [109, 4652, 106, 163],
            [0, 5814, 106, 163],
            [109, 1332, 106, 163],
            [109, 3822, 106, 163],
            [0, 3158, 106, 163],
            [0, 2328, 106, 163],
            [109, 1996, 106, 163]
		];
		
		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 94), true, 0));
		this.animations.push(new Animation(imagePath, coordsArray.slice(94), true, 0));
		
		imagePath = 'images/sprite-middlesealife2.png';
		coordsArray = [
            //[0, 7968, 300, 1],
            [109, 9300, 106, 163],
            [218, 8304, 106, 163],
            [109, 8636, 106, 163],
            [218, 6474, 106, 163],
            [0, 6972, 106, 163],
            [218, 2822, 106, 163],
            [218, 5478, 106, 163],
            [0, 5810, 106, 163],
            [218, 3154, 106, 163],
            [109, 0, 106, 163],
            [218, 1826, 106, 163],
            [218, 9134, 106, 163],
            [218, 1162, 106, 163],
            [0, 1992, 106, 163],
            [218, 1660, 106, 163],
            [109, 8304, 106, 163],
            [218, 2158, 106, 163],
            [0, 5478, 106, 163],
            [0, 498, 106, 163],
            [0, 7138, 106, 163],
            [218, 6972, 106, 163],
            [218, 7304, 106, 163],
            [109, 1494, 106, 163],
            [109, 8470, 106, 163],
            [218, 996, 106, 163],
            [218, 1992, 106, 163],
            [109, 8138, 106, 163],
            [218, 1494, 106, 163],
            [218, 6640, 106, 163],
            [0, 4648, 106, 163],
            [218, 2656, 106, 163],
            [218, 6308, 106, 163],
            [218, 5312, 106, 163],
            [0, 2490, 106, 163],
            [109, 7972, 106, 163],
            [218, 8968, 106, 163],
            [0, 9300, 106, 163],
            [0, 4814, 106, 163],
            [0, 1162, 106, 163],
            [109, 1328, 106, 163],
            [0, 7802, 106, 163],
            [0, 3486, 106, 163],
            [218, 6806, 106, 163],
            [0, 4316, 106, 163],
            [218, 5976, 106, 163],
            [0, 9134, 106, 163],
            [0, 6308, 106, 163],
            [0, 8636, 106, 163],
            [109, 2822, 106, 163],
            [218, 6142, 106, 163],
            [0, 1328, 106, 163],
            [0, 1660, 106, 163],
            [109, 6308, 106, 163],
            [109, 3818, 106, 163],
            [0, 2324, 106, 163],
            [218, 664, 106, 163],
            [0, 7470, 106, 163],
            [109, 5976, 106, 163],
            [109, 7802, 106, 163],
            [0, 6806, 106, 163],
            [0, 996, 106, 163],
            [218, 7802, 106, 163],
            [0, 2988, 106, 163],
            [218, 8636, 106, 163],
            [109, 7304, 106, 163],
            [218, 2324, 106, 163],
            [0, 3652, 106, 163],
            [109, 9134, 106, 163],
            [218, 3486, 106, 163],
            [218, 4150, 106, 163],
            [0, 7972, 106, 163],
            [109, 5312, 106, 163],
            [0, 1494, 106, 163],
            [109, 1660, 106, 163],
            [218, 5644, 106, 163],
            [0, 0, 106, 163],
            [218, 332, 106, 163],
            [109, 1826, 106, 163],
            [218, 5810, 106, 163],
            [218, 3320, 106, 163],
            [109, 5146, 106, 163],
            [109, 6640, 106, 163],
            [0, 8304, 106, 163],
            [109, 498, 106, 163],
            [218, 3652, 106, 163],
            [218, 2490, 106, 163],
            [218, 7972, 106, 163],
            [0, 6142, 106, 163],
            [0, 5976, 106, 163],
            [218, 4814, 106, 163],
            [218, 4316, 106, 163],
            [109, 4150, 106, 163],
            [109, 5810, 106, 163],
            [0, 3320, 106, 163],
            [0, 2656, 106, 163],
            [218, 3984, 106, 163],
            [109, 4648, 106, 163],
            [0, 2822, 106, 163],
            [218, 7138, 106, 163],
            [109, 9466, 106, 163],
            [218, 5146, 106, 163],
            [109, 3652, 106, 163],
            [0, 1826, 106, 163],
            [218, 2988, 106, 163],
            [109, 3984, 106, 163],
            [109, 6474, 106, 163],
            [218, 8138, 106, 163],
            [218, 498, 106, 163],
            [0, 166, 106, 163],
            [0, 3154, 106, 163],
            [0, 3984, 106, 163],
            [0, 332, 106, 163],
            [0, 8138, 106, 163],
            [109, 4814, 106, 163],
            [109, 664, 106, 163],
            [0, 7636, 106, 163],
            [0, 4482, 106, 163],
            [218, 1328, 106, 163],
            [0, 830, 106, 163],
            [0, 8968, 106, 163],
            [109, 7138, 106, 163],
            [109, 3320, 106, 163],
            [109, 2656, 106, 163],
            [218, 4980, 106, 163],
            [0, 9466, 106, 163],
            [0, 4150, 106, 163],
            [218, 4648, 106, 163],
            [218, 0, 106, 163],
            [109, 6806, 106, 163],
            [0, 2158, 106, 163],
            [109, 8968, 106, 163],
            [109, 4316, 106, 163],
            [0, 5146, 106, 163],
            [218, 4482, 106, 163],
            [218, 9300, 106, 163],
            [109, 166, 106, 163],
            [0, 8802, 106, 163],
            [0, 5644, 106, 163],
            [109, 4980, 106, 163],
            [109, 1162, 106, 163],
            [109, 6142, 106, 163],
            [109, 1992, 106, 163],
            [218, 3818, 106, 163],
            [218, 9466, 106, 163],
            [0, 3818, 106, 163],
            [218, 830, 106, 163]
        ];
		
		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 70), false, 2));
		this.animations.push(new Animation(imagePath, coordsArray.slice(70, 118), true, 0));
		this.animations.push(new Animation(imagePath, coordsArray.slice(118), false, 4));
		
		imagePath = 'images/sprite-middletransport1.png';
		coordsArray = [
            [436, 166, 300, 1],
            [872, 996, 106, 163],
            [654, 336, 106, 163],
            [763, 1494, 106, 163],
            [436, 502, 106, 163],
            [109, 1328, 106, 163],
            [436, 668, 106, 163],
            [218, 498, 106, 163],
            [763, 1328, 106, 163],
            [0, 664, 106, 163],
            [1090, 1494, 106, 163],
            [1308, 332, 106, 163],
            [872, 0, 106, 163],
            [763, 166, 106, 163],
            [545, 668, 106, 163],
            [436, 1166, 106, 163],
            [109, 0, 106, 163],
            [654, 502, 106, 163],
            [654, 668, 106, 163],
            [0, 166, 106, 163],
            [218, 166, 106, 163],
            [545, 0, 106, 163],
            [545, 502, 106, 163],
            [763, 1162, 106, 163],
            [1308, 0, 106, 163],
            [0, 830, 106, 163],
            [109, 1494, 106, 163],
            [981, 498, 106, 163],
            [1308, 1328, 106, 163],
            [545, 170, 106, 163],
            [545, 1494, 106, 163],
            [327, 166, 106, 163],
            [1090, 166, 106, 163],
            [1090, 996, 106, 163],
            [1308, 1494, 106, 163],
            [327, 332, 106, 163],
            [436, 170, 106, 163],
            [109, 498, 106, 163],
            [981, 830, 106, 163],
            [327, 0, 106, 163],
            [763, 498, 106, 163],
            [654, 1494, 106, 163],
            [218, 996, 106, 163],
            [654, 1E3, 106, 163],
            [1199, 1494, 106, 163],
            [109, 830, 106, 163],
            [1199, 830, 106, 163],
            [327, 1494, 106, 163],
            [436, 0, 106, 163],
            [109, 1162, 106, 163],
            [1308, 498, 106, 163],
            [545, 834, 106, 163],
            [1308, 830, 106, 163],
            [109, 996, 106, 163],
            [981, 996, 106, 163],
            [872, 1494, 106, 163],
            [218, 664, 106, 163],
            [1199, 664, 106, 163],
            [0, 1162, 106, 163],
            [1090, 1162, 106, 163],
            [109, 166, 106, 163],
            [872, 830, 106, 163],
            [1199, 1328, 106, 163],
            [436, 1494, 106, 163],
            [1308, 664, 106, 163],
            [436, 834, 106, 163],
            [1308, 996, 106, 163],
            [327, 664, 106, 163],
            [0, 1328, 106, 163],
            [981, 664, 106, 163],
            [1199, 332, 106, 163],
            [327, 830, 106, 163],
            [1308, 1162, 106, 163],
            [218, 0, 106, 163],
            [0, 1494, 106, 163],
            [0, 332, 106, 163],
            [218, 332, 106, 163],
            [0, 498, 106, 163],
            [545, 1166, 106, 163],
            [545, 336, 106, 163],
            [327, 498, 106, 163],
            [0, 996, 106, 163],
            [1090, 664, 106, 163],
            [436, 1E3, 106, 163],
            [0, 0, 106, 163],
            [981, 332, 106, 163],
            [1199, 996, 106, 163],
            [1090, 830, 106, 163],
            [763, 664, 106, 163],
            [436, 336, 106, 163],
            [981, 0, 106, 163],
            [654, 0, 106, 163],
            [218, 1494, 106, 163],
            [1308, 166, 106, 163],
            [654, 170, 106, 163],
            [1090, 0, 106, 163],
            [981, 1494, 106, 163],
            [981, 166, 106, 163],
            [545, 1E3, 106, 163],
            [654, 834, 106, 163],
            [763, 332, 106, 163],
            [763, 996, 106, 163],
            [1090, 332, 106, 163],
            [1199, 1162, 106, 163],
            [763, 830, 106, 163]
        ];
		
		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 30), false, 6));
		this.animations.push(new Animation(imagePath, coordsArray.slice(30, 68), false, 0));
		this.animations.push(new Animation(imagePath, coordsArray.slice(68), false, 0));
		
		imagePath = 'images/sprite-middletransport2.png';
		coordsArray = [
			//[872, 166, 300, 1],
			[1090, 830, 106, 163],
			[0, 1494, 106, 163],
			[872, 1494, 106, 163],
			[436, 1494, 106, 163],
			[1417, 1162, 106, 163],
			[218, 996, 106, 163],
			[872, 0, 106, 163],
			[1284, 0, 106, 163],
			[654, 1162, 106, 163],
			[1199, 1494, 106, 163],
			[872, 498, 106, 163],
			[1417, 332, 106, 163],
			[218, 830, 106, 163],
			[436, 996, 106, 163],
			[1308, 1494, 106, 163],
			[545, 498, 106, 163],
			[1199, 996, 106, 163],
			[545, 664, 106, 163],
			[327, 498, 106, 163],
			[981, 996, 106, 163],
			[327, 1494, 106, 163],
			[109, 1494, 106, 163],
			[1090, 332, 106, 163],
			[1199, 1328, 106, 163],
			[763, 332, 106, 163],
			[436, 664, 106, 163],
			[327, 1162, 106, 163],
			[327, 1328, 106, 163],
			[763, 996, 106, 163],
			[109, 498, 106, 163],
			[0, 1162, 106, 163],
			[981, 332, 106, 163],
			[872, 830, 106, 163],
			[1308, 498, 106, 163],
			[545, 0, 106, 163],
			[218, 166, 106, 163],
			[545, 1494, 106, 163],
			[436, 1328, 106, 163],
			[1199, 332, 106, 163],
			[981, 1328, 106, 163],
			[763, 0, 106, 163],
			[545, 830, 106, 163],
			[436, 1162, 106, 163],
			[1393, 166, 106, 163],
			[872, 332, 106, 163],
			[1308, 332, 106, 163],
			[327, 0, 106, 163],
			[109, 830, 106, 163],
			[0, 166, 106, 163],
			[1199, 830, 106, 163],
			[763, 1494, 106, 163],
			[327, 664, 106, 163],
			[218, 1494, 106, 163],
			[436, 830, 106, 163],
			[1308, 1162, 106, 163],
			[109, 996, 106, 163],
			[1308, 830, 106, 163],
			[218, 498, 106, 163],
			[1175, 0, 106, 163],
			[218, 0, 106, 163],
			[327, 830, 106, 163],
			[1393, 0, 106, 163],
			[763, 1162, 106, 163],
			[109, 166, 106, 163],
			[872, 664, 106, 163],
			[545, 166, 106, 163],
			[0, 0, 106, 163],
			[327, 996, 106, 163],
			[1090, 498, 106, 163],
			[654, 166, 106, 163],
			[1308, 664, 106, 163],
			[763, 830, 106, 163],
			[654, 996, 106, 163],
			[1199, 1162, 106, 163],
			[0, 498, 106, 163],
			[872, 1328, 106, 163],
			[0, 996, 106, 163],
			[0, 1328, 106, 163],
			[981, 1162, 106, 163],
			[109, 0, 106, 163],
			[1417, 664, 106, 163],
			[0, 332, 106, 163],
			[545, 332, 106, 163],
			[981, 830, 106, 163],
			[654, 1494, 106, 163],
			[0, 830, 106, 163],
			[545, 996, 106, 163],
			[1199, 498, 106, 163],
			[872, 1162, 106, 163],
			[1090, 996, 106, 163],
			[872, 996, 106, 163],
			[1417, 498, 106, 163]
		];
		
		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 8), true, 0));
		this.animations.push(new Animation(imagePath, coordsArray.slice(8), true, 0));
		
		imagePath = 'images/sprite-middlevegetation1.png';
		coordsArray = [
            //[437, 332, 300, 1],
            [547, 166, 106, 163],
            [218, 498, 106, 163],
            [327, 1166, 106, 163],
            [219, 1332, 106, 163],
            [545, 1166, 106, 163],
            [656, 1332, 106, 163],
            [439, 1664, 106, 163],
            [110, 2494, 106, 163],
            [438, 2328, 106, 163],
            [0, 830, 106, 163],
            [547, 1830, 106, 163],
            [110, 2328, 106, 163],
            [109, 1E3, 106, 163],
            [437, 668, 106, 163],
            [547, 2328, 106, 163],
            [0, 1996, 106, 163],
            [109, 498, 106, 163],
            [330, 2162, 106, 163],
            [765, 166, 106, 163],
            [218, 1E3, 106, 163],
            [0, 1166, 106, 163],
            [765, 2494, 106, 163],
            [765, 0, 106, 163],
            [765, 1498, 106, 163],
            [109, 0, 106, 163],
            [656, 2494, 106, 163],
            [874, 166, 106, 163],
            [548, 1996, 106, 163],
            [763, 1166, 106, 163],
            [655, 336, 106, 163],
            [438, 1830, 106, 163],
            [766, 1664, 106, 163],
            [0, 498, 106, 163],
            [656, 1830, 106, 163],
            [328, 332, 106, 163],
            [0, 0, 106, 163],
            [657, 1996, 106, 163],
            [657, 1664, 106, 163],
            [546, 502, 106, 163],
            [656, 0, 106, 163],
            [328, 166, 106, 163],
            [329, 1830, 106, 163],
            [548, 2162, 106, 163],
            [219, 332, 106, 163],
            [874, 332, 106, 163],
            [438, 2660, 106, 163],
            [329, 2328, 106, 163],
            [330, 1996, 106, 163],
            [439, 2162, 106, 163],
            [439, 1996, 106, 163],
            [219, 2660, 106, 163],
            [328, 498, 106, 163],
            [0, 166, 106, 163],
            [328, 834, 106, 163],
            [656, 2328, 106, 163],
            [436, 1166, 106, 163],
            [0, 1332, 106, 163],
            [548, 1664, 106, 163],
            [546, 668, 106, 163],
            [656, 1498, 106, 163],
            [437, 502, 106, 163],
            [110, 1996, 106, 163],
            [327, 0, 106, 163],
            [328, 1332, 106, 163],
            [546, 336, 106, 163],
            [438, 2494, 106, 163],
            [0, 664, 106, 163],
            [874, 0, 106, 163],
            [110, 2660, 106, 163],
            [0, 2660, 106, 163],
            [547, 2494, 106, 163],
            [220, 1830, 106, 163],
            [218, 0, 106, 163],
            [0, 1E3, 106, 163],
            [437, 336, 106, 163],
            [109, 1166, 106, 163],
            [547, 1332, 106, 163],
            [766, 1996, 106, 163],
            [654, 1166, 106, 163],
            [218, 1166, 106, 163],
            [0, 2328, 106, 163],
            [327, 1E3, 106, 163],
            [0, 2162, 106, 163],
            [219, 166, 106, 163],
            [0, 332, 106, 163],
            [220, 1664, 106, 163],
            [767, 2660, 107, 163],
            [0, 1664, 107, 163],
            [329, 1664, 107, 163],
            [0, 1830, 107, 163],
            [547, 2660, 107, 163],
            [109, 1332, 107, 163],
            [219, 2328, 107, 163],
            [765, 2328, 107, 163],
            [546, 0, 107, 163],
            [765, 1830, 107, 163],
            [437, 1332, 107, 163],
            [655, 668, 107, 163],
            [657, 2660, 107, 163],
            [328, 2494, 107, 163],
            [328, 2660, 107, 163],
            [110, 1664, 107, 163],
            [109, 332, 107, 163],
            [110, 1830, 107, 163],
            [437, 166, 107, 163],
            [765, 1332, 107, 163],
            [220, 1996, 107, 163],
            [436, 0, 107, 163],
            [0, 2494, 107, 163],
            [110, 2162, 107, 163]
        ];

		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 35), false, 10));
		this.animations.push(new Animation(imagePath, coordsArray.slice(35, 86), false, 10));
		this.animations.push(new Animation(imagePath, coordsArray.slice(86), false, false));
		
        imagePath = 'images/sprite-middlevegetation2.png';
		coordsArray = [
            //[0, 166, 300, 1],
            [0, 502, 106, 163],
            [0, 3490, 106, 163],
            [218, 7308, 106, 163],
            [109, 6312, 106, 163],
            [109, 3324, 106, 163],
            [109, 3822, 106, 163],
            [218, 5648, 106, 163],
            [0, 2992, 106, 163],
            [218, 3490, 106, 163],
            [218, 1664, 106, 163],
            [218, 1E3, 106, 163],
            [109, 170, 106, 163],
            [0, 3988, 106, 163],
            [109, 1166, 106, 163],
            [109, 4652, 106, 163],
            [0, 5150, 106, 163],
            [218, 2992, 106, 163],
            [218, 8304, 106, 163],
            [218, 502, 106, 163],
            [109, 2826, 106, 163],
            [0, 6312, 106, 163],
            [0, 2660, 106, 163],
            [109, 7142, 106, 163],
            [109, 7474, 106, 163],
            [218, 834, 106, 163],
            [218, 3988, 106, 163],
            [218, 4486, 106, 163],
            [109, 1996, 106, 163],
            [109, 5150, 106, 163],
            [0, 1996, 106, 163],
            [0, 0, 106, 163],
            [0, 6810, 106, 163],
            [0, 3324, 106, 163],
            [0, 4984, 106, 163],
            [218, 2494, 106, 163],
            [218, 8138, 106, 163],
            [109, 4984, 106, 163],
            [218, 170, 106, 163],
            [109, 3988, 106, 163],
            [218, 7806, 106, 163],
            [218, 2660, 106, 163],
            [0, 2494, 106, 163],
            [0, 2328, 106, 163],
            [109, 8304, 106, 163],
            [0, 1332, 106, 163],
            [218, 1830, 106, 163],
            [0, 7308, 106, 163],
            [0, 4320, 106, 163],
            [109, 1E3, 106, 163],
            [0, 5316, 106, 163],
            [109, 1830, 106, 163],
            [109, 1332, 106, 163],
            [218, 7972, 106, 163],
            [109, 4818, 106, 163],
            [0, 834, 106, 163],
            [218, 5814, 106, 163],
            [109, 5482, 106, 163],
            [218, 1332, 106, 163],
            [0, 5482, 106, 163],
            [0, 7806, 106, 163],
            [0, 8138, 106, 163],
            [0, 336, 106, 163],
            [109, 7972, 106, 163],
            [218, 6478, 106, 163],
            [109, 2992, 106, 163],
            [109, 1664, 106, 163],
            [218, 2328, 106, 163],
            [0, 7972, 106, 163],
            [109, 4486, 106, 163],
            [109, 2660, 106, 163],
            [109, 336, 106, 163],
            [0, 4818, 106, 163],
            [0, 668, 106, 163],
            [109, 6478, 106, 163],
            [0, 5814, 106, 163],
            [109, 502, 106, 163],
            [0, 2162, 106, 163],
            [218, 5980, 106, 163],
            [0, 170, 106, 163],
            [0, 5980, 106, 163],
            [109, 3656, 106, 163],
            [218, 6312, 106, 163],
            [0, 3158, 106, 163],
            [0, 6146, 106, 163],
            [109, 5814, 106, 163],
            [218, 7474, 106, 163],
            [109, 3490, 106, 163],
            [109, 5316, 106, 163],
            [218, 1498, 106, 163],
            [218, 1996, 106, 163],
            [218, 1166, 106, 163],
            [0, 7640, 106, 163],
            [0, 5648, 106, 163],
            [109, 668, 106, 163],
            [0, 6976, 106, 163],
            [109, 5980, 106, 163],
            [218, 2162, 106, 163],
            [0, 3656, 106, 163],
            [218, 3656, 106, 163],
            [218, 4984, 106, 163],
            [0, 6478, 106, 163],
            [109, 5648, 106, 163],
            [0, 7474, 106, 163],
            [0, 1664, 106, 163],
            [218, 6644, 106, 163],
            [218, 668, 106, 163],
            [218, 3822, 106, 163],
            [218, 7142, 106, 163],
            [0, 4652, 106, 163],
            [109, 834, 106, 163],
            [218, 4154, 106, 163],
            [218, 6810, 106, 163],
            [0, 4486, 106, 163],
            [218, 5316, 106, 163],
            [109, 8138, 106, 163],
            [0, 1166, 106, 163],
            [0, 2826, 106, 163],
            [109, 7806, 106, 163],
            [0, 7142, 106, 163],
            [109, 7308, 106, 163],
            [109, 2162, 106, 163],
            [109, 4320, 106, 163],
            [218, 3324, 106, 163],
            [109, 2494, 106, 163],
            [218, 0, 106, 163],
            [109, 1498, 106, 163],
            [0, 6644, 106, 163],
            [0, 1E3, 106, 163],
            [109, 6810, 106, 163],
            [109, 0, 106, 163],
            [0, 4154, 106, 163],
            [0, 1498, 106, 163],
            [109, 2328, 106, 163],
            [0, 8304, 106, 163],
            [218, 2826, 106, 163]
        ];
		
		this.animations.push(new Animation(imagePath, coordsArray.slice(0, 94), false, 22));
		this.animations.push(new Animation(imagePath, coordsArray.slice(94), false, 22));
	},
	this.loadEndAnimation = function() {
		var imagePath = 'images/sprite-end.png';
		var coordsArray = [
            [0, 0, 176, 168],
            [0, 2939, 176, 168],
            [0, 171, 176, 168],
            [0, 2768, 176, 168],
            [0, 1650, 176, 168],
            [0, 890, 176, 168],
            [0, 342, 176, 168],
            [0, 1821, 176, 168],
            [0, 2163, 176, 168],
            [0, 2385, 176, 168],
            [0, 3452, 176, 168],
            [0, 1438, 176, 168],
            [0, 3281, 176, 168],
            [0, 3623, 176, 168],
            [0, 2556, 176, 168],
            [0, 3110, 176, 168],
            [0, 513, 176, 168],
            [0, 1992, 176, 168],
            [0, 1096, 176, 168],
            [0, 719, 176, 168],
            [0, 1267, 176, 168]
        ];
		
		this.endAnimations.push(new Animation(imagePath, coordsArray, false, 0));
	},
	this.loadColorAnimation = function() {
		this.colorAnimations.push(new ColorAnimation('#00FF00', 'Green'));
		this.colorAnimations.push(new ColorAnimation('#FF0000', 'Red'));
		this.colorAnimations.push(new ColorAnimation('#0000FF', 'Blue'));
		this.colorAnimations.push(new ColorAnimation('#000000', 'Black'));
		
		this.colorAnimations.push(new ColorAnimation('#FFFF00', 'Yellow'));
		this.colorAnimations.push(new ColorAnimation('#00FFFF', 'Cyan'));
		this.colorAnimations.push(new ColorAnimation('#FF00FF', 'Magenta'));
		this.colorAnimations.push(new ColorAnimation('#FFFFFF', 'White'));
	}
	
	var ColorAnimation = function(hex, name) {
		this.hex 		= hex;
		this.name		= name;
		this.alpha		= 0.0;
		this.isStarted 	= false;	
	};
	ColorAnimation.prototype = {
		start: function() {
			this.isStarted = true;
		},
		render: function(context) {
			var BIG_LEFT_ICON_CENTER_X_FINAL	= 264,
				BIG_RIGHT_ICON_CENTER_X_FINAL	= 336,
				BIG_LEFT_ICON_CENTER_Y 			= 150,
				BIG_RIGHT_ICON_CENTER_Y 		= 150,
				CENTER_X_FINAL					= 300,
				CENTER_Y_FINAL					= 150,
				BIG_ICON_RADIUS 				= 89;			
			
			context.save();
			context.globalAlpha = 1.0;
			context.beginPath();
			
			var distX = (BIG_RIGHT_ICON_CENTER_X_FINAL - BIG_LEFT_ICON_CENTER_X_FINAL) / 2;
			var radian = Math.acos(distX / BIG_ICON_RADIUS);
			
			context.arc(BIG_LEFT_ICON_CENTER_X_FINAL, BIG_LEFT_ICON_CENTER_Y, BIG_ICON_RADIUS, 
				-1 * radian, radian, false);
			context.arc(BIG_RIGHT_ICON_CENTER_X_FINAL, BIG_RIGHT_ICON_CENTER_Y, BIG_ICON_RADIUS, 
				Math.PI - radian, Math.PI + radian, false);
			context.closePath();
			context.clip();
			context.fillStyle = this.hex;
			context.fill();
			
			var rgb = this.hex.substring(1);
			var r = parseInt(rgb.substring(0,2),16)/255;
			var g = parseInt(rgb.substring(2,4),16)/255;
			var b = parseInt(rgb.substring(4,6),16)/255;
			var v = Math.max.apply(Math, [r, g, b]);
			
			context.font = 'bold 18px Arial';
			context.textAlign = 'center';
			context.fillStyle = v <= 0.5 ? '#f7f7f7' : '#1b1b1b';
			context.fillText(
				this.name, 
				CENTER_X_FINAL, 
				CENTER_Y_FINAL
			);	
			context.restore();
		}
	};
	
	var Animation = function(imagePath, coordsArray, isReplay, numFrameLoopBack) {
		this.image 				= new Image();
		this.image.src 			= imagePath;
		this.coordsArray 		= coordsArray;
		this.frameIndex 		= 0;
		this.frame 				= coordsArray;[0];
		this.frameThreshold	 	= 5;
		this.tick 				= 0;
		this.alpha 				= 0.0;
		this.isReplay 			= isReplay;
		this.numFrameLoopBack 	= numFrameLoopBack;
		this.centerX			= 0.0;
		this.centerY			= 0.0;
		this.isStarted 			= false;
		this.isFinished			= false;
	};
	Animation.prototype = {	
		start: function(centerX, centerY, frameThreshold) {
			var CENTER_X_FINAL	= 280,
				CENTER_Y_FINAL	= 109;
			
			this.centerX = centerX || CENTER_X_FINAL;
			this.centerY = centerY || CENTER_Y_FINAL;
			this.frameThreshold = frameThreshold || 5;
			this.isStarted = true;
		},
		renderEnd: function(context) {
			this.tick++;
			if (this.tick > this.frameThreshold) {
				if (this.frameIndex == this.coordsArray.length - 1) {
					this.isFinished = true;
				} 
				else {
					this.frameIndex++;
				}
				this.frame = this.coordsArray[this.frameIndex];
				this.tick %= this.frameThreshold;
			}
			
			context.save();
			context.globalAlpha = 1.0;
			context.beginPath();
			context.drawImage(
				this.image, 
				this.frame[0], this.frame[1], 
				this.frame[2], this.frame[3], 
				this.centerX - this.frame[2] / 2, 
				this.centerY - this.frame[3] / 2, 
				this.frame[2], this.frame[3]);
			context.restore();
		},
		render: function(context) {
			var BIG_LEFT_ICON_CENTER_X_FINAL	= 234,
				BIG_RIGHT_ICON_CENTER_X_FINAL	= 316,
				BIG_LEFT_ICON_CENTER_Y 			= 109,
				BIG_RIGHT_ICON_CENTER_Y 		= 109,
				BIG_ICON_RADIUS 				= 89;
			
			this.tick++;
			if (this.tick > this.frameThreshold) {
				if (this.frameIndex == this.coordsArray.length - 1) {
					this.isFinished = true;
					if (this.isReplay) {
						this.frameIndex = 0;
					} 
					else if (this.numFrameLoopBack > 0) {
						this.frameIndex -= this.numFrameLoopBack;
					}
				} 
				else {
					this.frameIndex++;
				}
				this.frame = this.coordsArray[this.frameIndex];
				this.tick %= this.frameThreshold;					
			}
				
			context.save();
			context.globalAlpha = this.alpha;
			context.beginPath();
			
			var distX = (BIG_RIGHT_ICON_CENTER_X_FINAL - BIG_LEFT_ICON_CENTER_X_FINAL) / 2;
			var radian = Math.acos(distX / BIG_ICON_RADIUS);
			
			context.arc(BIG_LEFT_ICON_CENTER_X_FINAL, BIG_LEFT_ICON_CENTER_Y, BIG_ICON_RADIUS, 
				-1 * radian, radian, false);
			context.arc(BIG_RIGHT_ICON_CENTER_X_FINAL, BIG_RIGHT_ICON_CENTER_Y, BIG_ICON_RADIUS, 
				Math.PI - radian, Math.PI + radian, false);
			context.closePath();
			context.clip();
			context.drawImage(
				this.image, 
				this.frame[0], this.frame[1], 
				this.frame[2], this.frame[3], 
				this.centerX - this.frame[2] / 2, 
				this.centerY - this.frame[3] / 2, 
				this.frame[2], this.frame[3]);
			context.restore();
		}
	};
}